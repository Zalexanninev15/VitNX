\doxysection{Vit\+NX\+\_\+\+Progress\+Bar\+\_\+\+Rounded.\+cs}
\label{a00122_source}\index{E:/Github/VitNX/VitNX/UI/BasedOnDarkUI/Controls/VitNX\_ProgressBar\_Rounded.cs@{E:/Github/VitNX/VitNX/UI/BasedOnDarkUI/Controls/VitNX\_ProgressBar\_Rounded.cs}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001 \textcolor{keyword}{using} System;}
\DoxyCodeLine{00002 \textcolor{keyword}{using} System.ComponentModel;}
\DoxyCodeLine{00003 \textcolor{keyword}{using} System.Drawing;}
\DoxyCodeLine{00004 \textcolor{keyword}{using} System.Windows.Forms;}
\DoxyCodeLine{00005 }
\DoxyCodeLine{00006 \textcolor{keyword}{namespace }VitNX.UI.BasedOnDarkUI.Controls}
\DoxyCodeLine{00007 \{}
\DoxyCodeLine{00008     \textcolor{keyword}{public} \textcolor{keyword}{class }VitNX\_ProgressBarRounded : ProgressBar}
\DoxyCodeLine{00009     \{}
\DoxyCodeLine{00010         [Description(\textcolor{stringliteral}{"{}Font of the text on ProgressBar"{}}), Category(\textcolor{stringliteral}{"{}Additional Options"{}})]}
\DoxyCodeLine{00011         \textcolor{keyword}{public} Font TextFont \{ \textcolor{keyword}{get}; \textcolor{keyword}{set}; \} = \textcolor{keyword}{new} Font(FontFamily.GenericSerif, 11, FontStyle.Bold);}
\DoxyCodeLine{00012 }
\DoxyCodeLine{00013         \textcolor{keyword}{private} SolidBrush \_textColourBrush = (SolidBrush)Brushes.Black;}
\DoxyCodeLine{00014 }
\DoxyCodeLine{00015         [Category(\textcolor{stringliteral}{"{}Additional Options"{}})]}
\DoxyCodeLine{00016         \textcolor{keyword}{public} Color TextColor}
\DoxyCodeLine{00017         \{ \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} \_textColourBrush.Color; \} \textcolor{keyword}{set} \{ \_textColourBrush.Dispose(); \_textColourBrush = \textcolor{keyword}{new} SolidBrush(value); \} \}}
\DoxyCodeLine{00018 }
\DoxyCodeLine{00019         \textcolor{keyword}{private} SolidBrush \_progressColourBrush = (SolidBrush)Brushes.DodgerBlue;}
\DoxyCodeLine{00020 }
\DoxyCodeLine{00021         [Category(\textcolor{stringliteral}{"{}Additional Options"{}}), Browsable(\textcolor{keyword}{true}), EditorBrowsable(EditorBrowsableState.Always)]}
\DoxyCodeLine{00022         \textcolor{keyword}{public} Color ProgressColor}
\DoxyCodeLine{00023         \{ \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} \_progressColourBrush.Color; \} \textcolor{keyword}{set} \{ \_progressColourBrush.Dispose(); \_progressColourBrush = \textcolor{keyword}{new} SolidBrush(value); \} \}}
\DoxyCodeLine{00024 }
\DoxyCodeLine{00025         \textcolor{keyword}{private} VitNX\_ProgressBarDisplayMode \_visualMode = VitNX\_ProgressBarDisplayMode.CurrProgress;}
\DoxyCodeLine{00026 }
\DoxyCodeLine{00027         [Category(\textcolor{stringliteral}{"{}Additional Options"{}}), Browsable(\textcolor{keyword}{true})]}
\DoxyCodeLine{00028         \textcolor{keyword}{public} VitNX\_ProgressBarDisplayMode VisualMode}
\DoxyCodeLine{00029         \{ \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} \_visualMode; \} \textcolor{keyword}{set} \{ \_visualMode = value; Invalidate(); \} \}}
\DoxyCodeLine{00030 }
\DoxyCodeLine{00031         \textcolor{keyword}{private} \textcolor{keywordtype}{string} \_text = \textcolor{keywordtype}{string}.Empty;}
\DoxyCodeLine{00032 }
\DoxyCodeLine{00033         [Description(\textcolor{stringliteral}{"{}If it's empty, \% will be shown"{}}), Category(\textcolor{stringliteral}{"{}Additional Options"{}}), Browsable(\textcolor{keyword}{true}), EditorBrowsable(EditorBrowsableState.Always)]}
\DoxyCodeLine{00034         \textcolor{keyword}{public} \textcolor{keywordtype}{string} CustomText}
\DoxyCodeLine{00035         \{ \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} \_text; \} \textcolor{keyword}{set} \{ \_text = value; Invalidate(); \} \}}
\DoxyCodeLine{00036 }
\DoxyCodeLine{00037         \textcolor{keyword}{private} \textcolor{keywordtype}{string} \_textToDraw}
\DoxyCodeLine{00038         \{}
\DoxyCodeLine{00039             \textcolor{keyword}{get}}
\DoxyCodeLine{00040             \{}
\DoxyCodeLine{00041                 \textcolor{keywordtype}{string} text = CustomText;}
\DoxyCodeLine{00042                 \textcolor{keywordflow}{switch} (VisualMode)}
\DoxyCodeLine{00043                 \{}
\DoxyCodeLine{00044                     \textcolor{keywordflow}{case} VitNX\_ProgressBarDisplayMode.Percentage:}
\DoxyCodeLine{00045                         text = \_percentageStr;}
\DoxyCodeLine{00046                         \textcolor{keywordflow}{break};}
\DoxyCodeLine{00047 }
\DoxyCodeLine{00048                     \textcolor{keywordflow}{case} VitNX\_ProgressBarDisplayMode.CurrProgress:}
\DoxyCodeLine{00049                         text = \_currProgressStr;}
\DoxyCodeLine{00050                         \textcolor{keywordflow}{break};}
\DoxyCodeLine{00051 }
\DoxyCodeLine{00052                     \textcolor{keywordflow}{case} VitNX\_ProgressBarDisplayMode.TextAndCurrProgress:}
\DoxyCodeLine{00053                         text = \$\textcolor{stringliteral}{"{}\{CustomText\}: \{\_currProgressStr\}"{}};}
\DoxyCodeLine{00054                         \textcolor{keywordflow}{break};}
\DoxyCodeLine{00055 }
\DoxyCodeLine{00056                     \textcolor{keywordflow}{case} VitNX\_ProgressBarDisplayMode.TextAndPercentage:}
\DoxyCodeLine{00057                         text = \$\textcolor{stringliteral}{"{}\{CustomText\}: \{\_percentageStr\}"{}};}
\DoxyCodeLine{00058                         \textcolor{keywordflow}{break};}
\DoxyCodeLine{00059                 \}}
\DoxyCodeLine{00060                 \textcolor{keywordflow}{return} text;}
\DoxyCodeLine{00061             \}}
\DoxyCodeLine{00062             \textcolor{keyword}{set} \{ \}}
\DoxyCodeLine{00063         \}}
\DoxyCodeLine{00064 }
\DoxyCodeLine{00065         \textcolor{keyword}{public} VitNX\_ProgressBarRounded()}
\DoxyCodeLine{00066         \{ Value = Minimum; FixComponentBlinking(); \}}
\DoxyCodeLine{00067 }
\DoxyCodeLine{00068         \textcolor{keyword}{private} \textcolor{keywordtype}{string} \_currProgressStr}
\DoxyCodeLine{00069         \{ \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} \$\textcolor{stringliteral}{"{}\{Value\}/\{Maximum\}"{}}; \} \}}
\DoxyCodeLine{00070 }
\DoxyCodeLine{00071         \textcolor{keyword}{private} \textcolor{keywordtype}{void} FixComponentBlinking()}
\DoxyCodeLine{00072         \{ SetStyle(ControlStyles.UserPaint | ControlStyles.AllPaintingInWmPaint | ControlStyles.OptimizedDoubleBuffer, \textcolor{keyword}{true}); \}}
\DoxyCodeLine{00073 }
\DoxyCodeLine{00074         \textcolor{keyword}{private} \textcolor{keywordtype}{string} \_percentageStr}
\DoxyCodeLine{00075         \{ \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} \$\textcolor{stringliteral}{"{}\{(int)((float)Value -\/ Minimum) / ((float)Maximum -\/ Minimum) * 100 \} \%"{}}; \} \}}
\DoxyCodeLine{00076 }
\DoxyCodeLine{00077         \textcolor{keyword}{protected} \textcolor{keyword}{override} \textcolor{keywordtype}{void} OnPaint(PaintEventArgs e)}
\DoxyCodeLine{00078         \{}
\DoxyCodeLine{00079             IntPtr hrgn = Functions.Windows.Win32.Import.CreateRoundRectRgn(0, 0, Width, Height, 7, 7); \textcolor{comment}{// 0, 0, Width, Height, [x], [x] ; x -\/ degree of roundness of the control (set depending on the size of the control on the form), recommended = 4}}
\DoxyCodeLine{00080             Region = Region.FromHrgn(hrgn);}
\DoxyCodeLine{00081             Graphics g = e.Graphics; DrawProgressBar(g); DrawStringIfNeeded(g);}
\DoxyCodeLine{00082         \}}
\DoxyCodeLine{00083 }
\DoxyCodeLine{00084         \textcolor{keyword}{private} \textcolor{keywordtype}{void} DrawProgressBar(Graphics g)}
\DoxyCodeLine{00085         \{}
\DoxyCodeLine{00086             Rectangle rect = ClientRectangle;}
\DoxyCodeLine{00087             ProgressBarRenderer.DrawHorizontalBar(g, rect);}
\DoxyCodeLine{00088             \textcolor{keywordflow}{if} (Value > 0) \{ Rectangle clip = \textcolor{keyword}{new} Rectangle(rect.X, rect.Y, (\textcolor{keywordtype}{int})Math.Round((\textcolor{keywordtype}{float})Value / Maximum * rect.Width), rect.Height); g.FillRectangle(\_progressColourBrush, clip); \}}
\DoxyCodeLine{00089         \}}
\DoxyCodeLine{00090 }
\DoxyCodeLine{00091         \textcolor{keyword}{private} \textcolor{keywordtype}{void} DrawStringIfNeeded(Graphics g)}
\DoxyCodeLine{00092         \{}
\DoxyCodeLine{00093             \textcolor{keywordflow}{if} (VisualMode != VitNX\_ProgressBarDisplayMode.NoText)}
\DoxyCodeLine{00094             \{}
\DoxyCodeLine{00095                 \textcolor{keywordtype}{string} text = \_textToDraw;}
\DoxyCodeLine{00096                 SizeF len = g.MeasureString(text, TextFont);}
\DoxyCodeLine{00097                 Point location = \textcolor{keyword}{new} Point((Width / 2) -\/ (\textcolor{keywordtype}{int})len.Width / 2, (Height / 2) -\/ (\textcolor{keywordtype}{int})len.Height / 2);}
\DoxyCodeLine{00098                 g.DrawString(text, TextFont, \_textColourBrush, location);}
\DoxyCodeLine{00099             \}}
\DoxyCodeLine{00100         \}}
\DoxyCodeLine{00101 }
\DoxyCodeLine{00102         \textcolor{keyword}{public} \textcolor{keyword}{new} \textcolor{keywordtype}{void} Dispose()}
\DoxyCodeLine{00103         \{ \_textColourBrush.Dispose(); \_progressColourBrush.Dispose(); base.Dispose(); \}}
\DoxyCodeLine{00104 }
\DoxyCodeLine{00105         \textcolor{keyword}{private} \textcolor{keywordtype}{void} InitializeComponent()}
\DoxyCodeLine{00106         \{ SuspendLayout(); BackColor = Color.FromArgb(69, 73, 74); ResumeLayout(\textcolor{keyword}{false}); \}}
\DoxyCodeLine{00107     \}}
\DoxyCodeLine{00108 \}}

\end{DoxyCode}
