\doxysection{Vit\+NX\+\_\+\+Menu\+Renderer.\+cs}
\label{a00242_source}\index{E:/Github/VitNX/VitNX/UI/BasedOnDarkUI/Renderers/VitNX\_MenuRenderer.cs@{E:/Github/VitNX/VitNX/UI/BasedOnDarkUI/Renderers/VitNX\_MenuRenderer.cs}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001 \textcolor{keyword}{using} System;}
\DoxyCodeLine{00002 \textcolor{keyword}{using} System.Drawing;}
\DoxyCodeLine{00003 \textcolor{keyword}{using} System.Windows.Forms;}
\DoxyCodeLine{00004 \textcolor{keyword}{using} VitNX.UI.BasedOnDarkUI.Config;}
\DoxyCodeLine{00005 }
\DoxyCodeLine{00006 \textcolor{keyword}{namespace }VitNX.UI.BasedOnDarkUI.Renderers}
\DoxyCodeLine{00007 \{}
\DoxyCodeLine{00008     \textcolor{keyword}{public} \textcolor{keyword}{class }VitNX\_MenuRenderer : ToolStripRenderer}
\DoxyCodeLine{00009     \{}
\DoxyCodeLine{00010 \textcolor{preprocessor}{        \#region Initialisation Region}}
\DoxyCodeLine{00011 }
\DoxyCodeLine{00012         \textcolor{keyword}{protected} \textcolor{keyword}{override} \textcolor{keywordtype}{void} Initialize(ToolStrip toolStrip)}
\DoxyCodeLine{00013         \{}
\DoxyCodeLine{00014             base.Initialize(toolStrip);}
\DoxyCodeLine{00015 }
\DoxyCodeLine{00016             toolStrip.BackColor = Colors.GreyBackground;}
\DoxyCodeLine{00017             toolStrip.ForeColor = Colors.LightText;}
\DoxyCodeLine{00018         \}}
\DoxyCodeLine{00019 }
\DoxyCodeLine{00020         \textcolor{keyword}{protected} \textcolor{keyword}{override} \textcolor{keywordtype}{void} InitializeItem(ToolStripItem item)}
\DoxyCodeLine{00021         \{}
\DoxyCodeLine{00022             base.InitializeItem(item);}
\DoxyCodeLine{00023 }
\DoxyCodeLine{00024             item.BackColor = Colors.GreyBackground;}
\DoxyCodeLine{00025             item.ForeColor = Colors.LightText;}
\DoxyCodeLine{00026 }
\DoxyCodeLine{00027             \textcolor{keywordflow}{if} (item.GetType() == typeof(ToolStripSeparator))}
\DoxyCodeLine{00028             \{}
\DoxyCodeLine{00029                 item.Margin = \textcolor{keyword}{new} Padding(0, 0, 0, 1);}
\DoxyCodeLine{00030             \}}
\DoxyCodeLine{00031         \}}
\DoxyCodeLine{00032 }
\DoxyCodeLine{00033 \textcolor{preprocessor}{        \#endregion Initialisation Region}}
\DoxyCodeLine{00034 }
\DoxyCodeLine{00035 \textcolor{preprocessor}{        \#region Render Region}}
\DoxyCodeLine{00036 }
\DoxyCodeLine{00037         \textcolor{keyword}{protected} \textcolor{keyword}{override} \textcolor{keywordtype}{void} OnRenderToolStripBackground(ToolStripRenderEventArgs e)}
\DoxyCodeLine{00038         \{}
\DoxyCodeLine{00039             var g = e.Graphics;}
\DoxyCodeLine{00040             \textcolor{keyword}{using} (var b = \textcolor{keyword}{new} SolidBrush(Colors.GreyBackground))}
\DoxyCodeLine{00041             \{}
\DoxyCodeLine{00042                 g.FillRectangle(b, e.AffectedBounds);}
\DoxyCodeLine{00043             \}}
\DoxyCodeLine{00044         \}}
\DoxyCodeLine{00045 }
\DoxyCodeLine{00046         \textcolor{keyword}{protected} \textcolor{keyword}{override} \textcolor{keywordtype}{void} OnRenderImageMargin(ToolStripRenderEventArgs e)}
\DoxyCodeLine{00047         \{}
\DoxyCodeLine{00048             var g = e.Graphics;}
\DoxyCodeLine{00049 }
\DoxyCodeLine{00050             var rect = \textcolor{keyword}{new} Rectangle(0, 0, e.ToolStrip.Width -\/ 1, e.ToolStrip.Height -\/ 1);}
\DoxyCodeLine{00051 }
\DoxyCodeLine{00052             \textcolor{keyword}{using} (var p = \textcolor{keyword}{new} Pen(Colors.LightBorder))}
\DoxyCodeLine{00053             \{}
\DoxyCodeLine{00054                 g.DrawRectangle(p, rect);}
\DoxyCodeLine{00055             \}}
\DoxyCodeLine{00056         \}}
\DoxyCodeLine{00057 }
\DoxyCodeLine{00058         \textcolor{keyword}{protected} \textcolor{keyword}{override} \textcolor{keywordtype}{void} OnRenderItemCheck(ToolStripItemImageRenderEventArgs e)}
\DoxyCodeLine{00059         \{}
\DoxyCodeLine{00060             var g = e.Graphics;}
\DoxyCodeLine{00061 }
\DoxyCodeLine{00062             var rect = \textcolor{keyword}{new} Rectangle(e.ImageRectangle.Left -\/ 2, e.ImageRectangle.Top -\/ 2,}
\DoxyCodeLine{00063                                          e.ImageRectangle.Width + 4, e.ImageRectangle.Height + 4);}
\DoxyCodeLine{00064 }
\DoxyCodeLine{00065             \textcolor{keyword}{using} (var b = \textcolor{keyword}{new} SolidBrush(Colors.LightBorder))}
\DoxyCodeLine{00066             \{}
\DoxyCodeLine{00067                 g.FillRectangle(b, rect);}
\DoxyCodeLine{00068             \}}
\DoxyCodeLine{00069 }
\DoxyCodeLine{00070             \textcolor{keyword}{using} (var p = \textcolor{keyword}{new} Pen(Colors.BlueHighlight))}
\DoxyCodeLine{00071             \{}
\DoxyCodeLine{00072                 var modRect = \textcolor{keyword}{new} Rectangle(rect.Left, rect.Top, rect.Width -\/ 1, rect.Height -\/ 1);}
\DoxyCodeLine{00073                 g.DrawRectangle(p, modRect);}
\DoxyCodeLine{00074             \}}
\DoxyCodeLine{00075 }
\DoxyCodeLine{00076             \textcolor{keywordflow}{if} (e.Item.ImageIndex == -\/1 \&\& String.IsNullOrEmpty(e.Item.ImageKey) \&\& e.Item.Image == \textcolor{keyword}{null})}
\DoxyCodeLine{00077             \{}
\DoxyCodeLine{00078                 g.DrawImageUnscaled(MenuIcons.tick, \textcolor{keyword}{new} Point(e.ImageRectangle.Left, e.ImageRectangle.Top));}
\DoxyCodeLine{00079             \}}
\DoxyCodeLine{00080         \}}
\DoxyCodeLine{00081 }
\DoxyCodeLine{00082         \textcolor{keyword}{protected} \textcolor{keyword}{override} \textcolor{keywordtype}{void} OnRenderSeparator(ToolStripSeparatorRenderEventArgs e)}
\DoxyCodeLine{00083         \{}
\DoxyCodeLine{00084             var g = e.Graphics;}
\DoxyCodeLine{00085 }
\DoxyCodeLine{00086             var rect = \textcolor{keyword}{new} Rectangle(1, 3, e.Item.Width, 1);}
\DoxyCodeLine{00087 }
\DoxyCodeLine{00088             \textcolor{keyword}{using} (var b = \textcolor{keyword}{new} SolidBrush(Colors.LightBorder))}
\DoxyCodeLine{00089             \{}
\DoxyCodeLine{00090                 g.FillRectangle(b, rect);}
\DoxyCodeLine{00091             \}}
\DoxyCodeLine{00092         \}}
\DoxyCodeLine{00093 }
\DoxyCodeLine{00094         \textcolor{keyword}{protected} \textcolor{keyword}{override} \textcolor{keywordtype}{void} OnRenderArrow(ToolStripArrowRenderEventArgs e)}
\DoxyCodeLine{00095         \{}
\DoxyCodeLine{00096             e.ArrowColor = Colors.LightText;}
\DoxyCodeLine{00097             e.ArrowRectangle = \textcolor{keyword}{new} Rectangle(\textcolor{keyword}{new} Point(e.ArrowRectangle.Left, e.ArrowRectangle.Top -\/ 1), e.ArrowRectangle.Size);}
\DoxyCodeLine{00098 }
\DoxyCodeLine{00099             base.OnRenderArrow(e);}
\DoxyCodeLine{00100         \}}
\DoxyCodeLine{00101 }
\DoxyCodeLine{00102         \textcolor{keyword}{protected} \textcolor{keyword}{override} \textcolor{keywordtype}{void} OnRenderMenuItemBackground(ToolStripItemRenderEventArgs e)}
\DoxyCodeLine{00103         \{}
\DoxyCodeLine{00104             var g = e.Graphics;}
\DoxyCodeLine{00105 }
\DoxyCodeLine{00106             e.Item.ForeColor = e.Item.Enabled ? Colors.LightText : Colors.DisabledText;}
\DoxyCodeLine{00107 }
\DoxyCodeLine{00108             \textcolor{keywordflow}{if} (e.Item.Enabled)}
\DoxyCodeLine{00109             \{}
\DoxyCodeLine{00110                 var bgColor = e.Item.Selected ? Colors.GreyHighlight : e.Item.BackColor;}
\DoxyCodeLine{00111 }
\DoxyCodeLine{00112                 \textcolor{comment}{// Normal item}}
\DoxyCodeLine{00113                 var rect = \textcolor{keyword}{new} Rectangle(2, 0, e.Item.Width -\/ 3, e.Item.Height);}
\DoxyCodeLine{00114 }
\DoxyCodeLine{00115                 \textcolor{keyword}{using} (var b = \textcolor{keyword}{new} SolidBrush(bgColor))}
\DoxyCodeLine{00116                 \{}
\DoxyCodeLine{00117                     g.FillRectangle(b, rect);}
\DoxyCodeLine{00118                 \}}
\DoxyCodeLine{00119 }
\DoxyCodeLine{00120                 \textcolor{comment}{// Header item on open menu}}
\DoxyCodeLine{00121                 \textcolor{keywordflow}{if} (e.Item.GetType() == typeof(ToolStripMenuItem))}
\DoxyCodeLine{00122                 \{}
\DoxyCodeLine{00123                     \textcolor{keywordflow}{if} (((ToolStripMenuItem)e.Item).DropDown.Visible \&\& e.Item.IsOnDropDown == \textcolor{keyword}{false})}
\DoxyCodeLine{00124                     \{}
\DoxyCodeLine{00125                         \textcolor{keyword}{using} (var b = \textcolor{keyword}{new} SolidBrush(Colors.GreySelection))}
\DoxyCodeLine{00126                         \{}
\DoxyCodeLine{00127                             g.FillRectangle(b, rect);}
\DoxyCodeLine{00128                         \}}
\DoxyCodeLine{00129                     \}}
\DoxyCodeLine{00130                 \}}
\DoxyCodeLine{00131             \}}
\DoxyCodeLine{00132         \}}
\DoxyCodeLine{00133 }
\DoxyCodeLine{00134 \textcolor{preprocessor}{        \#endregion Render Region}}
\DoxyCodeLine{00135     \}}
\DoxyCodeLine{00136 \}}

\end{DoxyCode}
